function piechart(n,t,i,r){var a=i/6,o=i,s=i,h=i/2,f=n.scaleOrdinal().range(["#E1004C","#00A47F","#FF6200","#70E500","#00644E"]),c=n.select(r).append("svg").attr("width",o).attr("height",s).append("g").attr("transform","translate("+o/2+","+s/2+")"),v=n.arc().innerRadius(h-a).outerRadius(h),y=n.pie().value(function(n){return n.data}).sort(null),p=c.selectAll("path").data(y(t)).enter().append("path").attr("d",v).attr("fill",function(n){return f(n.data.title)}).append("svg:title").text(function(n){return n.data.data}),u=i/16,e=i/24,l=c.selectAll(".tweettext").data(f.domain()).enter().append("g").attr("transform",function(n,t){var i=u+e,r=i*f.domain().length/2,o=-2*u,s=t*i-r;return"translate("+o+","+s+")"});l.append("rect").attr("width",u).attr("height",u).style("fill",f).style("stroke",f);l.append("text").attr("fill","#9d9d9d").attr("x",u+e).attr("y",u-e+10).text(function(n){return n}).styles({fill:"#9d9d9d","font-family":"Coda', cursive","font-size":"12px"})}function timegraph(n,t,i){$(i).height(window.innerHeight/3);var s=n.select(i),r={top:20,right:20,bottom:30,left:50},h=$(i).height()*2-r.left-r.right,o=$(i).height()-r.top-r.bottom,u=s.append("g").attr("transform","translate("+r.left+","+r.top+")"),c=n.timeParse("%m/%d/%Y %H:%M"),f=n.scaleTime().rangeRound([0,h]),e=n.scaleLinear().rangeRound([o,0]),l=n.line().x(function(n){return f(n.date)}).y(function(n){return e(n.count)}),a=n.scaleOrdinal().range(["#E1004C","#00A47F","#FF6200","#70E500","#00644E"]);t.forEach(function(n){n.date=c(n.date);n.count=+n.count});f.domain(n.extent(t,function(n){return n.date}));e.domain(n.extent(t,function(n){return n.count}));u.append("g").attr("stroke","#9d9d9d").attr("transform","translate(0,"+o+")").call(n.axisBottom(f)).select(".domain").styles({stroke:"#9d9d9d"});u.append("g").styles({stroke:"#9d9d9d"}).call(n.axisLeft(e)).select(".domain").styles({stroke:"#9d9d9d"}).append("text").text("# of times Hashtag was used").styles({"font-size":"1vh",stroke:"#9d9d9d","text-anchor":"end",dy:"0.71em",y:6,transform:"rotate(-90)",fill:"#9d9d9d"});u.append("path").datum(t).attr("fill","none").attr("stroke",function(n){return a(n.date)}).attr("stroke-linejoin","round").attr("stroke-linecap","round").attr("stroke-width",5).attr("d",l)}function pinmap(n,t){var f=[];$.each(n,function(n,t){var i={long:t.item1,lat:t.item2};f.push(i)});var e=$(t).width(),u=$(t).width()/1.65,h=d3.scaleOrdinal().range(["#E1004C","#00A47F","#FF6200","#70E500","#00644E"]),o=d3.geo.kavrayskiy7().scale(170).translate([e/2,u/2]).precision(.1),r=d3.geo.path().projection(o),s=d3.geo.graticule(),i=d3.select(t).append("svg").attr("width",e).attr("height",u);i.append("defs").append("path").datum({type:"Sphere"}).attr("id","sphere").attr("d",r);i.append("use").attr("class","stroke").attr("xlink:href","#sphere");i.append("use").attr("class","fill").attr("xlink:href","#sphere");i.append("path").datum(s).attr("class","graticule").attr("d",r);d3.json("https://raw.githubusercontent.com/react-d3/react-d3-map/master/example/data/world-50m.json",function(n,t){if(n)throw n;var u=topojson.feature(t,t.objects.countries).features,s=topojson.neighbors(t.objects.countries.geometries),e=d3.scaleOrdinal().domain(u).range(["#E1004C","#00A47F","#FF6200","#70E500","#00644E"]);i.selectAll(".country").data(u).enter().insert("path",".graticule").attr("class","country").attr("d",r).style("fill",function(n){return e(n.id)});i.insert("path",".graticule").datum(topojson.mesh(t,t.objects.countries,function(n,t){return n!==t})).attr("class","boundary").attr("d",r);i.selectAll(".mark").data(f).enter().append("image").attr("class","mark").attr("width",20).attr("height",25).attr("xlink:href","../../images/locater.svg").attr("transform",function(n){return"translate("+o([n.long,n.lat])+")"})});d3.select(self.frameElement).style("height",u+"px")}function bubblechart(n,t){var i=650,f=d3.scaleOrdinal().range(["#E1004C","#00A47F","#FF6200","#70E500","#00644E"]),e=d3.layout.pack().sort(null).size([i,i]).padding(1.5),o=d3.select(t).append("svg").attr("width",i).attr("height",i).attr("class","bubble"),u,r;n=n.map(function(n){return n.value=+n.count,n});u=e.nodes({children:n}).filter(function(n){return!n.children});r=o.append("g").attr("transform","translate(0,0)").selectAll(".bubble").data(u).enter();r.append("circle").attr("r",function(n){return n.r}).attr("cx",function(n){return n.x}).attr("cy",function(n){return n.y}).style("fill",function(n){return f(n.value)}).append("svg:title").text(function(n){return n.count});r.append("text").attr("x",function(n){return n.x}).attr("y",function(n){return n.y+5}).attr("text-anchor","middle").text(function(n){return n.word}).styles({fill:"#9d9d9d","font-family":"Coda', cursive","font-size":"12px"})}window.d3;